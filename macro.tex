\newcommand{\scA}{\mathscr{A}}
\newcommand{\scB}{\mathscr{B}}
\newcommand{\scC}{\mathscr{C}}
\newcommand{\scD}{\mathscr{D}}
\newcommand{\scE}{\mathscr{E}}
\newcommand{\scF}{\mathscr{F}}
\newcommand{\scG}{\mathscr{G}}
\newcommand{\scH}{\mathscr{H}}
\newcommand{\scI}{\mathscr{I}}
\newcommand{\scJ}{\mathscr{J}}
\newcommand{\scK}{\mathscr{K}}
\newcommand{\scL}{\mathscr{L}}
\newcommand{\scM}{\mathscr{M}}
\newcommand{\scN}{\mathscr{N}}
\newcommand{\scO}{\mathscr{O}}
\newcommand{\scP}{\mathscr{P}}
\newcommand{\scQ}{\mathscr{Q}}
\newcommand{\scR}{\mathscr{R}}
\newcommand{\scS}{\mathscr{S}}
\newcommand{\scT}{\mathscr{T}}
\newcommand{\scU}{\mathscr{U}}
\newcommand{\scV}{\mathscr{V}}
\newcommand{\scW}{\mathscr{W}}
\newcommand{\scX}{\mathscr{X}}
\newcommand{\scY}{\mathscr{Y}}
\newcommand{\scZ}{\mathscr{Z}}

\newcommand{\fA}{\mathfrak{A}}
\newcommand{\fB}{\mathfrak{B}}
\newcommand{\fC}{\mathfrak{C}}
\newcommand{\fD}{\mathfrak{D}}
\newcommand{\fE}{\mathfrak{E}}
\newcommand{\fF}{\mathfrak{F}}
\newcommand{\fG}{\mathfrak{G}}
\newcommand{\fH}{\mathfrak{H}}
\newcommand{\fI}{\mathfrak{I}}
\newcommand{\fJ}{\mathfrak{J}}
\newcommand{\fK}{\mathfrak{K}}
\newcommand{\fL}{\mathfrak{L}}
\newcommand{\fM}{\mathfrak{M}}
\newcommand{\fN}{\mathfrak{N}}
\newcommand{\fO}{\mathfrak{O}}
\newcommand{\fP}{\mathfrak{P}}
\newcommand{\fQ}{\mathfrak{Q}}
\newcommand{\fR}{\mathfrak{R}}
\newcommand{\fS}{\mathfrak{S}}
\newcommand{\fT}{\mathfrak{T}}
\newcommand{\fU}{\mathfrak{U}}
\newcommand{\fV}{\mathfrak{V}}
\newcommand{\fW}{\mathfrak{W}}
\newcommand{\fX}{\mathfrak{X}}
\newcommand{\fY}{\mathfrak{Y}}
\newcommand{\fZ}{\mathfrak{Z}}

\newcommand\tA{{\mathsf{A}}}
\newcommand\tB{{\mathsf{B}}}
\newcommand\tC{{\mathsf{C}}}
\newcommand\tD{{\mathsf{D}}}
\newcommand\tE{{\mathsf{E}}}
\newcommand{\tF}{\mathsf{F}}
\newcommand\tG{{\mathsf{G}}}
\newcommand\tH{{\mathsf{H}}}
\newcommand\tI{{\mathsf{I}}}
\newcommand\tJ{{\mathsf{J}}}
\newcommand\tK{{\mathsf{K}}}
\newcommand\tL{{\mathsf{L}}}
\newcommand\tM{{\mathsf{M}}}
\newcommand\tN{{\mathsf{N}}}
\newcommand\tO{{\mathsf{O}}}
\newcommand\tP{{\mathsf{P}}}
\newcommand\tQ{{\mathsf{Q}}}
\newcommand\tR{{\mathsf{R}}}
\newcommand\tS{{\mathsf{S}}}
\newcommand\tT{{\mathsf{T}}}
\newcommand\tU{{\mathsf{U}}}
\newcommand\tV{{\mathsf{V}}}
\newcommand\tW{{\mathsf{W}}}
\newcommand\tX{{\mathsf{X}}}
\newcommand\tY{{\mathsf{Y}}}
\newcommand\tZ{{\mathsf{Z}}}

%Sums
\newcommand{\sM}{\mathbb{M}}
\newcommand{\sN}{\mathbb{N}}
\newcommand{\sL}{\mathbb{L}}
\newcommand{\sH}{\mathbb{H}}
\newcommand{\sP}{\mathbb{P}}
\newcommand{\sQ}{\mathbb{Q}}
\newcommand{\sR}{\mathbb{R}}
\newcommand{\sA}{\mathbb{A}}
\newcommand{\sB}{\mathbb{B}}
\newcommand{\sC}{\mathbb{C}}
\newcommand{\sD}{\mathbb{D}}

%overlined letters
\newcommand{\ova}{\bar{a}}
\newcommand{\ovb}{\bar{b}}
\newcommand{\ovc}{\bar{c}}
\newcommand{\ovd}{\bar{d}}
\newcommand{\ove}{\bar{e}}
\newcommand{\ovf}{\bar{f}}
\newcommand{\ovg}{\bar{g}}
\newcommand{\ovh}{\bar{h}}
\newcommand{\ovi}{\bar{i}}
\newcommand{\ovj}{\bar{j}}
\newcommand{\ovk}{\bar{k}}
\newcommand{\ovl}{\bar{l}}
\newcommand{\ovm}{\bar{m}}
\newcommand{\ovn}{\bar{n}}
\newcommand{\ovo}{\bar{o}}
\newcommand{\ovp}{\bar{p}}
\newcommand{\ovq}{\bar{q}}
\newcommand{\ovr}{\bar{r}}
\newcommand{\ovs}{\bar{s}}
\newcommand{\ovt}{\bar{t}}
\newcommand{\ovu}{\bar{u}}
\newcommand{\ovv}{\bar{v}}
\newcommand{\ovw}{\bar{w}}
\newcommand{\ovx}{\bar{x}}
\newcommand{\ovy}{\bar{y}}
\newcommand{\ovz}{\bar{z}}

%overlined capital letters
\newcommand{\ovA}{\overline{A}}
\newcommand{\ovB}{\overline{B}}
\newcommand{\ovC}{\overline{C}}
\newcommand{\ovD}{\overline{D}}
\newcommand{\ovE}{\overline{E}}
\newcommand{\ovF}{\overline{F}}
\newcommand{\ovG}{\overline{G}}
\newcommand{\ovH}{\overline{H}}
\newcommand{\ovI}{\overline{I}}
\newcommand{\ovJ}{\overline{J}}
\newcommand{\ovK}{\overline{K}}
\newcommand{\ovL}{\overline{L}}
\newcommand{\ovM}{\overline{M}}
\newcommand{\ovN}{\overline{N}}
\newcommand{\ovO}{\overline{O}}
\newcommand{\ovP}{\overline{P}}
\newcommand{\ovQ}{\overline{Q}}
\newcommand{\ovR}{\overline{R}}
\newcommand{\ovS}{\overline{S}}
\newcommand{\ovT}{\overline{T}}
\newcommand{\ovU}{\overline{U}}
\newcommand{\ovV}{\overline{V}}
\newcommand{\ovW}{\overline{W}}
\newcommand{\ovX}{\overline{X}}
\newcommand{\ovY}{\overline{Y}}
\newcommand{\ovZ}{\overline{Z}}

%vec capital letters
\newcommand{\veA}{\vec{A}}
\newcommand{\veB}{\vec{B}}
\newcommand{\veC}{\vec{C}}
\newcommand{\veD}{\vec{D}}
\newcommand{\veE}{\vec{E}}
\newcommand{\veF}{\vec{F}}
\newcommand{\veG}{\vec{G}}
\newcommand{\veH}{\vec{H}}
\newcommand{\veI}{\vec{I}}
\newcommand{\veJ}{\vec{J}}
\newcommand{\veK}{\vec{K}}
\newcommand{\veL}{\vec{L}}
\newcommand{\veM}{\vec{M}}
\newcommand{\veN}{\vec{N}}
\newcommand{\veO}{\vec{O}}
\newcommand{\veP}{\vec{P}}
\newcommand{\veQ}{\vec{Q}}
\newcommand{\veR}{\vec{R}}
\newcommand{\veS}{\vec{S}}
\newcommand{\veT}{\vec{T}}
\newcommand{\veU}{\vec{U}}
\newcommand{\veV}{\vec{V}}
\newcommand{\veW}{\vec{W}}
\newcommand{\veX}{\vec{X}}
\newcommand{\veY}{\vec{Y}}
\newcommand{\veZ}{\vec{Z}}

%bold capital letters
\newcommand{\bA}{\mathbf{A}}
\newcommand{\bB}{\mathbf{B}}
\newcommand{\bC}{\mathbf{C}}
\newcommand{\bD}{\mathbf{D}}
\newcommand{\bE}{\mathbf{E}}
\newcommand{\bF}{\mathbf{F}}
\newcommand{\bG}{\mathbf{G}}
\newcommand{\bH}{\mathbf{H}}
\newcommand{\bI}{\mathbf{I}}
\newcommand{\bJ}{\mathbf{J}}
\newcommand{\bK}{\mathbf{K}}
\newcommand{\bL}{\mathbf{L}}
\newcommand{\bM}{\mathbf{M}}
\newcommand{\bN}{\mathbf{N}}
\newcommand{\bO}{\mathbf{O}}
\newcommand{\bP}{\mathbf{P}}
\newcommand{\bQ}{\mathbf{Q}}
\newcommand{\bR}{\mathbf{R}}
\newcommand{\bS}{\mathbf{S}}
\newcommand{\bT}{\mathbf{T}}
\newcommand{\bU}{\mathbf{U}}
\newcommand{\bV}{\mathbf{V}}
\newcommand{\bW}{\mathbf{W}}
\newcommand{\bX}{\mathbf{X}}
\newcommand{\bY}{\mathbf{Y}}
\newcommand{\bZ}{\mathbf{Z}}

\newcommand{\mbbA}{\mathbb{A}}
\newcommand{\mbbB}{\mathbb{B}}
\newcommand{\mbbC}{\mathbb{C}}
\newcommand{\mbbD}{\mathbb{D}}
\newcommand{\mbbE}{\mathbb{E}}
\newcommand{\mbbF}{\mathbb{F}}
\newcommand{\mbbG}{\mathbb{G}}
\newcommand{\mbbH}{\mathbb{H}}
\newcommand{\mbbI}{\mathbb{I}}
\newcommand{\mbbL}{\mathbb{L}}
\newcommand{\mbbM}{\mathbb{M}}
\newcommand{\mbbN}{\mathbb{N}}
\newcommand{\mbbW}{\mathbb{W}}
\newcommand{\mbbY}{\mathbb{Y}}
\newcommand{\mbbX}{\mathbb{X}}
\newcommand{\mbbZ}{\mathbb{Z}}

%lower case greek letters
\newcommand{\ga}{\alpha}
\newcommand{\gb}{\beta}
\newcommand{\gc}{\gamma}
\newcommand{\gd}{\delta}
\newcommand{\gep}{\varepsilon}
\newcommand{\gz}{\zeta}
\newcommand{\geta}{\eta}
\newcommand{\gth}{\theta}
\newcommand{\gi}{\iota}
\newcommand{\gv}{\nu}
\newcommand{\gk}{\kappa}
\newcommand{\gl}{\lambda}
\newcommand{\gm}{\mu}
\newcommand{\gn}{\nu}
\newcommand{\gx}{\xi}
\newcommand{\gp}{\pi}
\newcommand{\gr}{\rho}
\newcommand{\gs}{\sigma}
\newcommand{\gt}{\ensuremath{\tau}}
\newcommand{\gu}{\upsilon}
% \newcommand{\gph}{\varphi}
\newcommand{\gch}{\chi}
\newcommand{\gps}{\psi}
\newcommand{\go}{\omega}
\newcommand{\gto}{\ensuremath{\bar\tau}}

%bold lower case greek letters
%\newcommand\ssn{\mbox{\boldmath $\eta$}}
\newcommand{\bga}{\mbox{\boldmath $\alpha$}}
\newcommand{\bgb}{\mbox{\boldmath $\beta$}}
\newcommand{\bgc}{\mbox{\boldmath $\gamma$}}
\newcommand{\bgp}{\mbox{\boldmath $\pi$}}
\newcommand{\bgd}{\mbox{\boldmath $\delta$}}
\newcommand{\bge}{\mbox{\boldmath $\epsilon$}}
\newcommand{\bgs}{\mbox{\boldmath $\sigma$}}
\newcommand{\bgt}{\mbox{\boldmath $\tau$}}
\newcommand{\bgr}{\mbox{\boldmath $\rho$}}
\newcommand{\bgch}{\mbox{\boldmath $\chi$}}
\newcommand{\bgo}{\mbox{\boldmath $\omega$}}

%upper case greek letters
\newcommand{\gG}{\Gamma}
\newcommand{\gF}{\Phi}
\newcommand{\gD}{\Delta}
\newcommand{\gT}{\Theta}
\newcommand{\gP}{\Pi}
\newcommand{\gX}{\Xi}
\newcommand{\gS}{\Sigma}
\newcommand{\gO}{\Omega}
\newcommand{\gL}{\Lambda}

\newcommand\rA{{\mathrm{A}}}
\newcommand\rB{{\mathrm{B}}}
\newcommand\rC{{\mathrm{C}}}
\newcommand\rD{{\mathrm{D}}}
\newcommand\rE{{\mathrm{E}}}
\newcommand{\rF}{\mathrm{F}}
\newcommand\rG{{\mathrm{G}}}
\newcommand\rH{{\mathrm{H}}}
\newcommand\rI{{\mathrm{I}}}
\newcommand\rL{{\mathrm{L}}}
 
%\newcommand\ra{{\mathrm{a}}}
\newcommand\rb{{\mathrm{b}}}
\newcommand\rc{{\mathrm{c}}}
\newcommand\rd{{\mathrm{d}}}
\newcommand\re{{\mathrm{e}}}
\newcommand{\rf}{\mathrm{f}}
\newcommand\rg{{\mathrm{g}}}
\newcommand\rh{{\mathrm{h}}}
\newcommand\ri{{\mathrm{i}}}
\newcommand\rl{{\mathrm{l}}}
\newcommand\mrm{{\mathrm{m}}}
\newcommand\rn{{\mathrm{n}}}
\newcommand\ro{{\mathrm{o}}}
\newcommand\rp{{\mathrm{p}}}
%\newcommand\rq{{\mathrm{q}}}
\newcommand\rr{{\mathrm{r}}}
\newcommand\rs{{\mathrm{s}}}
\newcommand\rt{{\mathrm{t}}}

\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cK}{\mathcal{K}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\cS}{\mathcal{S}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cW}{\mathcal{W}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}

\newenvironment{myitem}%
{\begin{list}%
       {-}%
       {\setlength{\itemsep}{0pt}
     \setlength{\parsep}{3pt}
     \setlength{\topsep}{3pt}
     \setlength{\partopsep}{0pt}
     \setlength{\leftmargin}{0.7em}
     \setlength{\labelwidth}{1em}
     \setlength{\labelsep}{0.3em}}}%
{\end{list}}

\newenvironment{myitemize}%
{\begin{list}%
       {-}%
       {\setlength{\itemsep}{0pt}
     \setlength{\parsep}{2pt}
     \setlength{\topsep}{2pt}
     \setlength{\partopsep}{0pt}
     \setlength{\leftmargin}{2em}
     \setlength{\labelwidth}{1em}
     \setlength{\labelsep}{0.3em}}}%
{\end{list}}

%Alberto's macros
\newcommand{\ls}[2]{\langle #2 / #1\rangle} % linear substitution
\newcommand{\cs}[2]{\{ #2 / #1\}} % classical substitution
%\newcommand{\ls}[2]{\langle #1:=#2\rangle} % linear substitution
%\newcommand{\cs}[2]{\{ #1:=#2\}} % classical substitution
\newcommand{\Bag}[1]{[#1]} % bag formation
\renewcommand{\smallsetminus}{-}
%Giulio's macros
%Sets:
%\newcommand{\nat}{\mathcal{N}}
\newcommand{\mbz}{\mathbf{0}}
\newcommand{\mbo}{\mathbf{1}}
\newcommand{\mbt}{\mathbf{2}}
\newcommand{\rea}[1]{\mathsf{rea}(#1)} % set of realizers of #1
\newcommand{\realize}{\Vdash} % realizability relation
\newcommand{\natp}{\nat^+}
\newcommand{\one}{\mathbf{1}}
\newcommand{\bool}{\mathbf{2}}
\newcommand{\perm}[1]{\fS_{#1}}
\newcommand{\card}[1]{\# #1} % cardinality of a set
%Boh
\newcommand{\Omegatuple}[1]{\Mfin{#1}^{(\omega)}}
\newcommand{\Pow}[1]{\cP(#1)}
\newcommand{\Powf}[1]{\cP_{\mathrm{f}}(#1)}
\newcommand{\Id}[1]{\mathrm{Id}_{#1}}
\newcommand{\comp}{\circ}
\newcommand{\With}[2]{{#1}\with{#2}}
\newcommand{\Termobj}{1}
\newcommand{\App}{\mathrm{Ap}}
\newcommand{\Abs}{\uplambda}
\newcommand{\Funint}[2]{[{#1}\!\!\imp\!\!{#2}]}

%Lambda calculus:
%\newcommand{\full}{\gto{\bang}}
%\newcommand{\dlam}{\ensuremath{\partial\lambda}}
%\newcommand{\dzlam}{\ensuremath{\partial_0\lambda}}
%\newcommand{\lam}{\ensuremath{\lambda}}
%\newcommand{\bang}{\oc}
%\newcommand{\hole}[1]{\llparenthesis #1\rrparenthesis}
\newcommand{\paral}{\vert}
\newcommand{\FSet}[1]{\Lambda^{#1}_{\bang}}
\newcommand{\supp}[1]{\mathsf{su}(#1)} % support of multises

%\newcommand{\tContSet}{\Set{\gt}\hole{\cdot}} % bang-free test contexts
%\newcommand{\tFContSet}{\FSet{\gt}\hole{\cdot}} % all test contexts

%\newcommand{\ContSet}{\Set{\gt}\hole{\cdot}} % bang-free term contexts
%\newcommand{\FContSet}{\FSet{\gt}\hole{\cdot}} % all term contexts

\newcommand{\sums}[1]{\bool\langle\Set{#1}\rangle}
\newcommand{\Fsums}[1]{\bool\langle\FSet{#1}\rangle}
\newcommand{\la}{\leftarrow}
\newcommand{\ot}{\leftarrow}
\newcommand{\labelot}[1]{\ _{#1}\!\leftarrow} % left arrow with label
\newcommand{\labelto}[1]{\rightarrow_{#1}} % right arrow with label
\newcommand{\mslabelot}[1]{\ _{#1}\!\twoheadleftarrow} % left two head arrow with label
\newcommand{\mslabelto}[1]{\twoheadrightarrow_{#1}} % right two head arrow with label
\newcommand{\msla}{\twoheadleftarrow} 
\newcommand{\msto}{\twoheadrightarrow}
\newcommand{\toh}{\to_{h}} % head reduction
\newcommand{\mstoh}{\msto_{h}} % transitive head reduction
\newcommand{\etoh}{\to_{h\eta}} % extensional head reduction
\newcommand{\msetoh}{\msto_{h\eta}} % extensional transitive head reduction
\newcommand{\too}{\to_{o}} % outer-reduction
\newcommand{\mstoo}{\msto_{o}} % transitive outer-reduction
\newcommand{\etoo}{\to_{o\eta}} % extensional outer-reduction
\newcommand{\msetoo}{\msto_{o\eta}} % extensional transitive outer-reduction
\newcommand{\eqt}{=_{\theta}} % weakly extensional conversion
\newcommand{\eqte}{=_{\theta\eta}} % extensional conversion
\newcommand{\eq}{=} % basic conversion

\newcommand{\dg}[2]{\mathrm{deg}_{#1}(#2)} % degree of a variable #1 in a term #2

\newcommand{\obsle}{\sqsubseteq_{\mathcal{O}}} % observational preorder
\newcommand{\obseq}{\approx_{\mathcal{O}}} % observational equivalence

\newcommand{\tesle}{\sqsubseteq_{\mathcal{C}}} % convergence preorder
\newcommand{\teseq}{\approx_{\mathcal{C}}} % convergence equivalence

\newcommand{\Fobsle}{\sqsubseteq^{\bang}_{\mathcal{O}}} % full observational preorder
\newcommand{\Fobseq}{\approx^{\bang}_{\mathcal{O}}} % full observational equivalence

\newcommand{\Ftesle}{\sqsubseteq^{\bang}_{\mathcal{C}}} % full convergence preorder
\newcommand{\Fteseq}{\approx^{\bang}_{\mathcal{C}}} % full convergence equivalence

%Semantics:
\newcommand{\rank}[1]{\mathsf{rk}(#1)} % rank of something
\newcommand{\rrank}[1]{\mathsf{rrk}(#1)} % right rank of an implicative formula
\newcommand{\lrank}[1]{\mathsf{lrk}(#1)} % left rank of an implicative formula
%\newcommand{\termin}[1]{\mathsf{t}(#1)} % set of terminals of a set of formulas
\newcommand{\termin}[3]{\mathsf{tmn}_{#1}^{#2}(#3)} % set of terminals of a set of formulas. The first argument is a tuple of terms to be substituted for the tuple of variables given in the second argument. The third argument is the formula of which we take the terminals 
\newcommand{\conc}[1]{\mathsf{cn}(#1)} % set of premisses of a set of formulas
\newcommand{\prem}[3]{\mathsf{pr}_{#1}^{#2}(#3)} % set of premisses of a set of formulas
\newcommand{\premp}[1]{\mathsf{pp}(#1)} % special premisses of premisses of a set of formulas
\newcommand{\premterm}[3]{\mathsf{prt}_{#1}^{#2}(#3)} % set of premisses having terminals in common with set of formulas #1
\newcommand{\spnex}[1]{\overline{#1}} % semi-prenex form of the formula #1
\newcommand{\ospnex}[1]{\overline{\overline{#1}}} % semi-prenex form of the formula #1 deprived of all universal quantifiers at the front
\newcommand{\forant}{\mathsf{uqa}} % one step semi-prenex form of the formula #1
\newcommand{\wrap}[1]{\bar{#1}} % wrapping of a term
\newcommand{\len}{\ell}
\newcommand{\trm}[1]{#1^{\textrm{--}}}
\newcommand{\cont}[2]{#1^{+}\hole{#2}}
\newcommand{\Mfin}[1]{\mathcal{M}_{\mathrm{f}}(#1)}
\newcommand{\mcup}{\uplus}
\newcommand{\mmcup}{\bar{\mcup}}
% \newcommand{\Pair}[2]{\langle{#1},{#2}\rangle}
\newcommand{\Rel}{\mathbf{REL}} %category of sets and relations
\newcommand{\MRel}{\mathbf{REL}_{\bang}} %Kleisli category of sets and relations
\newcommand{\Inf}{\mathbf{Inf}} %category of information system and approx rels
\newcommand{\SD}{\mathbf{SD}} %category of Scott domains and continuous functions
\newcommand{\CPO}{\mathbf{CPO}} %category of CPOs and continuous functions
\newcommand{\SL}{\mathbf{ScottL}} %category of preorders
\newcommand{\SLb}{\mathbf{ScottL}_{\bang}} %Kleisli category of \SL
\newcommand{\Coh}{\mathbf{Coh}} %category of coherent spaces
\newcommand{\Cohb}{\mathbf{Coh}_{\bang}} %Kleisli category of \Coh


\newcommand{\otspam}{
\mathrel{\vcenter{\offinterlineskip
\vskip-.130ex\hbox{\begin{turn}{180}$\mapsto$\end{turn}}}}} % reversed mapsto

\newcommand{\envup}[3]{#1[#2 \otspam #3]} % environment update

\newcommand{\try}[2]{\mathsf{try}_{#1}\{#2\}} % execute the second argument first argument until the second one is found
\newcommand{\catch}[2]{\mathsf{catch}_{#1}\{#2\}} % when the first argument is found, execute the second one

\newcommand{\Lamex}{\Lambda_{\mathsf{ex}}} % lambda calculus with try and catch

\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\imp}{\Rightarrow}
\newcommand{\Apex}[1]{^{\: #1}}

\newcommand{\compl}[1]{{#1}^c} % complement of a set
\newcommand{\pts}{.\,.\,} % points abbreviated
%\newcommand{\conv}[1]{{#1}\!\downarrow} % covergence
\newcommand{\convh}[1]{{#1}\!\downarrow_h} % head covergence
\newcommand{\solv}[1]{#1\lightning} % solvance
\newcommand{\solvo}[1]{#1\lightning_o} % outer solvance
\newcommand{\module}[1]{\bool\langle #1 \rangle}

\newcommand{\Ide}[1]{Ide(#1)} % set of all ideals of a preorder

\newcommand{\Bstk}{\bB_{\mathsf{s}}} % quasi-boolean algebra of saturated sets of stacks
\newcommand{\fsubseteq}{\subseteq_\mathrm{f}} % finite subset
\newcommand{\Ps}[1]{\cP(#1)} % powerset
\newcommand{\Pss}[1]{\cP_\mathrm{s}(#1)} % set of all saturated subsets
\newcommand{\Psc}[1]{\cP_\mathrm{c}(#1)} % set of all closed subsets
\newcommand{\Psg}[1]{\cP_\mathrm{g}(#1)} % set of all good subsets
\newcommand{\Psf}[1]{\cP_\mathrm{f}(#1)} % set of all finite subsets
\newcommand{\Ms}[1]{\cM(#1)} % set of all multisets
\newcommand{\Msf}[1]{\cM_\mathrm{f}(#1)} % set of all finite multisets
\newcommand{\fst}{\mathsf{fst}} % reduction proper to the \Lambda\mu-calculus
\newcommand{\cons}{::} % stack constructor
\newcommand{\at}{\!\centerdot} % stack constructor (cons)
\newcommand{\ats}{\at\ldots\at} % stack constructor (cons) with lower suspension dots 
%\newcommand{\at}{\!::\!} % stack constructor

%\newcommand{\meet}{\} % inf operator
%\newcommand{\join}{\!\centerdot} % inf operator

\newcommand{\sps}[3]{\bgp^{(#1,#2,#3)}} % special stack defined as \overbrace{\cadr{#1}{0}\at\ldots\at\cadr{#1}{0}}^{#3 \mbox{ times}}\at #1
\newcommand{\spt}[1]{\bA^{(#1)}} % special term defined as \bd\epsilon.\cadr{\gd}{0}\ap(\cadr{\epsilon}{0}\at\ldots\at\cadr{\epsilon}{q-1}}\at\cddr{\epsilon}{q})

% \newcommand{\cdr}[1]{\mathsf{cdr}(#1)} % tail of stack
% \newcommand{\car}[1]{\mathsf{car}(#1)} % head of stack
% \newcommand{\itcdr}[2]{#1[#2)} % iterated tail of stack
% \newcommand{\cddr}[2]{#1[#2)} % iterated tail of stack
% \newcommand{\cadr}[2]{#1[#2]} % head of an iterated tail of stack

\newcommand{\op}{\mathsf{op}} % generic binary infix operator
\newcommand{\fun}[1]{\mathsf{f}(#1)} % generic unary function symbol
\newcommand{\nil}{\mathsf{nil}} % empty stack
\newcommand{\mcddr}[2]{\mathsf{cdr}^{#1}(#2)} % modified iterated tail of stack
\newcommand{\mitcar}[2]{\mathsf{car}^{#1}(#2)} % modified iterated head of stack
\newcommand{\mitcdr}[2]{\mathsf{cdr}^{#1}(#2)} % modified iterated tail of stack

\newcommand{\callcc}{\mathsf{cc}} % Felleisen's call/cc
\newcommand{\kpi}[1]{\mathsf{k}_{#1}} % Krivine's term that restores the stack
\newcommand{\nf}[1]{\mathsf{Nf}(#1)} % partial function returning the normal form 
\newcommand{\onf}[1]{\mathsf{Onf}(#1)} % partial function returning the outer normal form
\newcommand{\eonf}[1]{\eta\mathsf{Onf}(#1)} % partial function returning the extensional outer normal form
\newcommand{\hnf}[1]{\mathsf{Hnf}(#1)} % partial function returning the beta-head normal form
\newcommand{\ehnf}[1]{\eta\mathsf{Hnf}(#1)} % partial function returning the beta-eta head normal form
\newcommand{\Sol}{\mathsf{Sol}^{\mathsf{t}}} % set of all solvable terms
%\newcommand{\USol}{\mathsf{Sol}^{\mathsf{t}} % set of all solvable terms
\newcommand{\SetBT}{\mathfrak{B}} % set of all Bohm trees
\newcommand{\SetBTt}{\mathfrak{B}^{\mathsf{t}}} % set of all Bohm trees of \stk-terms
\newcommand{\BT}[1]{\mathsf{BT}(#1)} % Bohm tree of an expression
\newcommand{\tBT}[2]{\mathsf{BT}_{#2}(#1)} % truncated Bohm tree of an expression
\newcommand{\eBT}[1]{\eta\mathsf{BT}(#1)} % extensional Bohm tree of an expression
\newcommand{\teBT}[2]{\eta\mathsf{BT}_{#2}(#1)} % truncated extensional Bohm tree of an expression
\newcommand{\bdom}[2]{\mathsf{dom}(#1,#2)} % bounded domain of a term seen as a function over sequences of natural numbers
%\newcommand{\virt}[2]{\langle #1 \mid #2 \rangle} % virtual extension of the map corresponding to a term 
\newcommand{\bout}[3]{\mbox{\boldmath{$\langle$}} #1 \!\mid\! #2 \!\mid\! #3 \mbox{\boldmath{$\rangle$}}} % Bohm out term corresponding to a term #1, the sequence #2 , the bound #3 and the width #4
\newcommand{\vbout}[3]{\mbox{\boldmath{$\langle$}} #1 \!\mid\! #2 \!\mid\! #3 \mbox{\boldmath{$\rangle$}}} % virtual Bohm out term corresponding to a term #1, the sequence #2 and the bound #3 
\newcommand{\virt}[1]{\mathsf{vir}(#1)} % set of sequences that belong virtually to the map corresponding to a term
\newcommand{\bvirt}[2]{\mathsf{vir}(#1,#2)} % set of sequences that belong virtually to the map corresponding to a term, with a bound on their length
\newcommand{\extr}[1]{\mathsf{extr}(#1)} % extensionally reachable sequences
\newcommand{\uns}[1]{\mathsf{uns}(#1)} % unsolvable sequences
\newcommand{\unr}[1]{\mathsf{unr}(#1)} % unreachable sequences
\newcommand{\eqty}{\stackrel{\infty}{=}} % equality of Bohm trees up to infinite eta-expansion
\newcommand{\simty}{\stackrel{\infty}{\sim}} % similarity at all sequences of natural numbers
\newcommand{\pexp}[2]{\mbox{\boldmath{$\langle$}} #1 \lVert #2 \mbox{\boldmath{$\rangle$}}} % path expansion of a term
\newcommand{\Seq}{Seq} % the set of finite sequences of strictly positive natural numbers
\newcommand{\tSeq}[1]{Seq_{\leq #1}} % the set of finite sequences of length less or equal to a specified bound
\newcommand{\Lab}{Lab} % the set of labels of Bohm trees

\newcommand{\NT}[1]{\mathsf{NT}(#1)} % Nakajima tree of an expression
\newcommand{\tNT}[2]{\mathsf{NT}_{#2}(#1)} % truncated Nakajima tree of an expression

\newcommand{\sub}[2]{\{#1/#2\}} % classical substitution of #1 for #2
\newcommand{\ab}[1]{\mathcal{A}(#1)} % abort of a term
\newcommand{\ctrl}[1]{\mathcal{C}(#1)} % control of a term
\newcommand{\cmd}[2]{\langle #1 \lVert #2\rangle} % command constructor for lambda mu-mu-tilde
\newcommand{\ap}{\star} % application symbol of a term to a process
\newcommand{\bd}{\kappa} % binder for stack variables
\newcommand{\lambdab}{\bar{\lambda}} % lambda bar of mu-mu tilde calculus
\newcommand{\mut}{\tilde{\mu}} % binder for mu tilde calculus
\newcommand{\tcbn}[1]{#1^{\circ}} % translation of the cbn lambdamumu expressions into stack expressions 
\newcommand{\tcbv}[1]{#1^{\bullet}} % translation of the cbv lambdamumu expressions into stack expressions 
\newcommand{\texp}[1]{#1^{\circ}} % translation of the lambdamu expressions into stack expressions
\newcommand{\ttyp}[1]{#1^{\circ}} % translation of the lambdamu types into stack types
\newcommand{\Tp}[1]{#1^{\circ}} % translation
\newcommand{\Te}[1]{#1^{\circ}} % translation of the lambdamu expressions into stack expressions
\newcommand{\Neg}[1]{#1^{-}} % negative translation of formulas
\newcommand{\Pos}[1]{#1^{+}} % positive translation of formulas
\newcommand{\Tt}[1]{#1^{-}} % translation of stack expressions into lambda calculus with pairing
\newcommand{\Ts}[1]{#1^{+}} % translation of the lambda mu calculus into the lambda calculus
\newcommand{\dev}[1]{#1^{\baro}} % inner-outer development of the redexes of #1
\newcommand{\AtForm}{\mathrm{AtFm}} % set of atomic formulas of first-order logic
\newcommand{\UqAtForm}{\mathrm{UqAtFm}} % the set of universally quantified atomic formulas of first-order logic
\newcommand{\UqBot}{\mathrm{UqBot}} % the set of universally quantified atomic formulas of first-order logic in which the atomic formula is $\bot$
\newcommand{\Form}{\mathrm{Fm}} % set of formulas of second-order logic
\newcommand{\cForm}{\mathrm{Fm}^\mathsf{o}} % set of closed formulas of second-order logic
\newcommand{\Val}[1]{\mathrm{Val}_{#1}} % set of valuations into the structure #1
\newcommand{\At}{\mathrm{At}} % atomic formulas
\newcommand{\cAt}{\mathrm{At}^\mathsf{o}} % closed atomic formulas
\newcommand{\Var}{\mathrm{Var}} % set of variables
\newcommand{\Nam}{\mathrm{Nam}} % set of names
\newcommand{\FV}{\mathrm{FV}} % free variables
\newcommand{\FN}{\mathrm{FN}} % free names
\newcommand{\LTer}[1]{\Lambda^{\mathsf{#1}}} % set of terms of the lambda-mu calculus
\newcommand{\LTyp}[1]{\cT_{\lambda\mu}^{\mathsf{#1}}} % set of types of the lambda-mu calculus
\newcommand{\ITer}[1]{\Sigma_{\mathsf{in}}^{\mathsf{#1}}} % set of intuitionistic terms of the stack calculus
\newcommand{\BTer}[1]{\Sigma_{\mathsf{b}}^{\mathsf{#1}}} % finite Bohm trees of the stack calculus
\newcommand{\KTer}[1]{\Sigma^{\mathsf{#1}}} % set of terms of the stack calculus
\newcommand{\KTyp}[1]{\cT_\bd^{\mathsf{#1}}} % set of types of the stack calculus

%\newcommand{\Kstate}[4]{\langle({#1},{#2}),({#3},{#4})\rangle} % a state of the Krivine Abstract Machine involving a term 
\newcommand{\transition}{\longrightarrow} % transition symbol from one state of the Krivine Abstract Machine to another
\newcommand{\Kstate}[3]{\mbox{\boldmath{$\langle$}} \ {#1},{#2},{#3} \ \mbox{\boldmath{$\rangle$}}} % a state of the Krivine Abstract Machine involving a term 

\newcommand{\Kproc}[2]{\langle{#1},{#2}\rangle} % a state of the Krivine Abstract Machine involving a process
\newcommand{\Kclos}[2]{({#1},{#2})} % a closure of the Krivine Abstract Machine

\newcommand{\SN}[1]{\mathrm{SN}^{\mathsf{#1}}} % set of strongly normalizing expressions of the stack calculus

%\newcommand{\deg}[2]{\mathsf{deg}_{#1}(#2)} % degree of a variable in a n expression

\newcommand{\dgr}[2]{\mathsf{deg}_{#1}(#2)} % degree of a variable in a n expression

\newcommand{\bbot}{
\mathrel{\vcenter{\offinterlineskip
\vskip-.130ex\hbox{\begin{turn}{90}$\models$\end{turn}}}}} % Krivine's double bottom

\newcommand{\ttop}{
\mathrel{\vcenter{\offinterlineskip
\vskip-.130ex\hbox{\begin{turn}{270}$\models$\end{turn}}}}} % double top

\newcommand{\sepa}{
\mathrel{\vcenter{\offinterlineskip
\vskip-.130ex\hbox{\begin{turn}{90}$\succ$\end{turn}}}}} % separability

\newcommand{\asm}{\! : \!} % separator for type assumptions in contexts
\newcommand{\tass}{:} % separator type assignment in judgements

\newcommand{\tval}[1]{\vert #1\vert} % truth value interpretation of types into sets of terms
\newcommand{\fval}[1]{\lVert #1 \rVert} % falsehood value interpretation of types into sets of stacks
\newcommand{\tInt}[1]{\vert #1\vert} % truth value-like interpretation of term types into set of terms
\newcommand{\sInt}[1]{\vert #1\vert} % falsehood value-like interpretation of stack types into set of stacks
\newcommand{\pInt}[1]{\vert #1 \vert} % interpretation of the process type into a set of processes
\newcommand{\eInt}[1]{\vert #1 \vert} % interpretation of the expression type into a set of expressions
\newcommand{\Int}[1]{\llbracket #1\rrbracket} % interpretation of expressions in a mathematical domain
\newcommand{\id}{\mathsf{id}} % identity morphsism in a category
\newcommand{\pr}[1]{\mathsf{pr}_{#1}} % i-th projection of a cartesian product
\newcommand{\ev}{\mathsf{ev}} % evaluation morphism of a ccc

%\newcommand{\list}[1]{\langle #1 \rangle} % list constructor write inside the arguments separated by commas
\newcommand{\lis}[1]{\prec #1 \succ} % list constructor
\newcommand{\copair}[2]{[ #1, #2 ]} % copair constructor

\newcommand{\cur}[1]{\Lambda(#1)} % currying natural isomorphism
\newcommand{\invcur}[1]{\Lambda^{-1}(#1)} % inverse of currying natural isomorphism
\newcommand{\adbmaL}{
\mathrel{\vcenter{\offinterlineskip
\vskip-.100ex\hbox{\begin{turn}{180}$\Lambda$\end{turn}}}}}

\newcommand{\ctrliso}[1]{\phi(#1)} % natural isomorphism proper to control categories
\newcommand{\invctrliso}[1]{\phi^{-1}(#1)} % inverse of the natural isomorphism proper to control categories

\newcommand{\cocur}[1]{\adbmaL\!\!(#1)} % co-currying natural isomorphism
\newcommand{\invcocur}[1]{\adbmaL^{-1}(#1)} % inverse of co-currying natural isomorphism

\newcommand{\cord}{\sqsubseteq_c} % computational order on Bohm trees
\newcommand{\lord}{\sqsubseteq_l} % logical order on Bohm trees

\newcommand{\coher}{\stackrel{\frown}{\smile}} % Girard's coherence relation
\newcommand{\scoher}{\frown} % Girard's strict coherence relation

\newcommand{\Cl}[1]{Cl(#1)} % the set of cliques of a set 

\newcommand{\ccl}{\ensuremath{CCL}} % name of classical combinatory logic
\newcommand{\lmuo}{\ensuremath{\lambda\mu\mathbf{1}}} % name of Andou's lambda-mu calculus 
\newcommand{\lmc}{\ensuremath{\lambda C}} % name of Herbelin-De Groote's lambda-C calculus 
\newcommand{\lamb}{\ensuremath{\lambda}} % name of Church's lambda calculus 
\newcommand{\lmu}{\ensuremath{\lambda\mu}} % name of Parigot's lambda-mu calculus 
\newcommand{\stk}{\ensuremath{\bd}} % name of the stack calculus
\newcommand{\stke}{\ensuremath{\bd\eta}} % name of the extensional stack calculus
\newcommand{\stkw}{\ensuremath{\bd w}} % name of the stack calculus + weta
\newcommand{\lsp}{\ensuremath{\lambda\mathsf{sp}}} % name of the lambda calculus with surjective pairing
\newcommand{\lesp}{\ensuremath{\lambda\eta\mathsf{sp}}} % name of the extensional lambda calculus with surjective pairing
\newcommand{\ort}[1]{#1^{\bot}} % orthogonal object

\newcommand{\wi}{\binampersand} % with connective
\newcommand{\pa}{\bindnasrepma} % par connective

\newcommand{\te}{\mathsf{ten}} % tensor morphism
\newcommand{\parm}{\mathsf{par}} % par morphism

\newcommand{\mon}{\mathsf{m}} % monoidality morphism
\newcommand{\see}{\mathsf{s}} % seely isomorphism
\newcommand{\ut}{\mathsf{t}} % terminal morphism in a Cartesian category

\newcommand{\assoc}{\mathsf{ass}} % generalized associativity morphism

\newcommand{\der}{\mathsf{der}} % dereliction morphism
\newcommand{\coder}{\mathsf{cod}} % codereliction morphism

\newcommand{\coa}{\mathsf{h}} % coalgebra for the functor \ort{(\cdot)} \xrightarrow{\cdot}

\newcommand{\con}{\mathsf{con}} % contraction morphism
\newcommand{\wkn}{\mathsf{wkn}} % weakening morphism
\newcommand{\cowkn}{\mathsf{cow}} % coweakening morphism

\newcommand{\nco}{\overline{\mathsf{con}}} % negative contraction morphism
\newcommand{\nwk}{\overline{\mathsf{wkn}}} % negative weakening morphism

\newcommand{\dig}{\mathsf{dig}} % digging morphism

%\newcommand{\codig}{\mathsf{cod}} % codigging morphism

\newcommand{\dual}{\partial} % dualizing morphism
\newcommand{\ddual}{\partial^{-1}} % inverse of the dualizing morphism

\newcommand{\teid}{\mathbf{1}} % identity of the tensor product
\newcommand{\bon}{\mathbf{1}} % identity of the tensor product 

\newcommand{\DEC}{\mathsf{DEC}} % the class of decidable languages
\newcommand{\SDEC}{\mathsf{SDEC}} % the class of semi-decidable languages
\newcommand{\REG}{\mathsf{REG}} % the class of regular languages
\newcommand{\CFL}{\mathsf{CFL}} % the class of context-free languages
\newcommand{\dCFL}{\mathsf{dCFL}} % the class of deterministically context-free languages

\newcommand{\sqb}[1]{[#1]} % square brackets

\newcommand{\cnt}[1]{#1^\bullet} % center of a control category
\newcommand{\foc}[1]{#1^\sharp} % focus of a control category

\newcommand{\com}{\mathsf{comp}} % composition proof
\newcommand{\exc}{\mathsf{exc}} % exchange proof

\newcommand{\ax}{\mathsf{ax}} % axiom rule
\newcommand{\dne}{\mathsf{dne}} % double negation elimination rule
\newcommand{\raa}{\mathsf{raa}} % reductio ad absurdum rule
\newcommand{\efq}{\mathsf{efq}} % ex flaso quodlibet rule
\newcommand{\cut}{\mathsf{cut}} % cut rule
\newcommand{\dni}{\mathsf{dni}} % double negation introduction proof
\newcommand{\mpo}{\mathsf{mp}} % modus ponens rule
\newcommand{\dt}{\mathsf{dt}} % deduction theorem
\newcommand{\idem}{\mathsf{id}} % identity proof
\newcommand{\contp}{\mathsf{contp}} % contraposition proof (positive)
\newcommand{\contn}{\mathsf{contn}} % contraposition proof (negative)
\newcommand{\sded}{\mathsf{sded}} % symmetric deduction proof

\newcommand{\varrule}{\mathsf{ax}} % inference rule for variables
\newcommand{\carrule}{\to e_r} % inference rule for \car
\newcommand{\cdrrule}{\to e_l} % inference rule for \cdr
\newcommand{\atrule}{\to i} % inference rule for \at
\newcommand{\aprule}{\mathsf{cut}} % inference rule for \app
\newcommand{\nilrule}{\bot i} % inference rule for \nil
\newcommand{\bdrule}[1]{\bd,{#1}} % inference rule for \bd with reference to the bound variable 
\newcommand{\orrule}{\vee i} % inference rule for or
\newcommand{\rsallrule}{2\forall r} % inference rule for right introduction of the second order universal quantifier
\newcommand{\rfallrule}{\forall r} % inference rule for right introduction of the first order universal quantifier
\newcommand{\lsallrule}{2\forall l} % inference rule for left introduction of the second order universal quantifier
\newcommand{\lfallrule}{\forall l} % inference rule for left introduction of the first order universal quantifier

\newcommand{\leng}[1]{\sharp #1} % length of a sequence

%\newcommand{\wid}[1]{\mathsf{w}(#1)} % width of a term
%\newcommand{\bwid}[2]{\mathsf{w}(#1,#2)} % bounded width of a term
\newcommand{\wei}[1]{\mathsf{w}(#1)} % weight of a term
\newcommand{\bwei}[2]{\mathsf{w}(#1,#2)} % bounded weight of a term
\newcommand{\brea}[1]{\mathsf{b}(#1)} % breadth of a term
\newcommand{\bbrea}[2]{\mathsf{b}(#1,#2)} % bounded breadth of a term
\newcommand{\gap}[1]{\mathsf{g}(#1)} % gap of a term
\newcommand{\bgap}[2]{\mathsf{g}(#1,#2)} % bounded gap of a term

\newcommand{\wnot}{?} % why not modality
\newcommand{\bang}{!} % bang modality
\newcommand{\bbang}{!!} % double bang functor
\newcommand{\app}{F} % morphism from $U \to U \Rightarrow U$
\newcommand{\lam}{G} % morphism from $U \Rightarrow U \to U$
%\newcommand{\cur}{\Lambda} % currying
\newcommand{\cld}{\downarrow\!} % down arrow closure operator
\newcommand{\clu}{\uparrow\!} % up arrow closure operator
\newcommand{\clo}[1]{\overline{#1}} % overline closure operator
\newcommand{\clde}{\downarrow_\eta\!} % closure operator for the extensionality preorder
\newcommand{\parcl}[1]{\uparrow_{#1}\!} % parameterized closure operator
\newcommand{\cldn}[2]{\downarrow_{#1}\!{#2}} % downwards closure operator
\newcommand{\clup}[2]{\uparrow_{#1}\!{#2}} % upwards closure operator
\newcommand{\opp}[1]{{#1}^{\mathsf{op}}} % opposite

%Macro for stack sequents. The forms of annotated sequents are 
%\tystk{s}{stack}{stack-type}{context}
%\tystk{t}{term}{term-type}{context}
%\tystk{p}{process}{process-type}{context}
%Sequents without annotations
%\tystk{s}{}{stack-type}{context}
%\tystk{t}{}{term-type}{context}
%\tystk{p}{}{}{context}
\newcommand{\tystk}[4]{%
\ifthenelse{\equal{#1}{s}\OR\equal{#1}{t}}{
	\ifthenelse{\equal{#1}{s}}{%\equal{#1}{s}
		\ifthenelse{\isempty{#2}}{#3 \vdash #4}{\textcolor{blue}{#2} \textcolor{blue}{:} #3 \vdash #4}
		}{%\equal{#1}{t}
		\ifthenelse{\isempty{#2}}{\vdash #3, #4}{\vdash \textcolor{blue}{#2} \textcolor{blue}{:} #3 \ \textcolor{blue}{\mid} \ #4}
		}
	}{%\equal{#1}{p}
	\ifthenelse{\isempty{#2}}{\vdash #4}{\vdash \textcolor{blue}{#2} \textcolor{blue}{\mid} #4}
	}
}
\newcommand{\ntystk}[4]{%
\ifthenelse{\equal{#1}{s}\OR\equal{#1}{t}}{
	\ifthenelse{\equal{#1}{s}}{%\equal{#1}{s}
		\ifthenelse{\isempty{#2}}{#3 \nvdash #4}{\textcolor{blue}{#2} \textcolor{blue}{:} #3 \nvdash #4}
		}{%\equal{#1}{t}
		\ifthenelse{\isempty{#2}}{\nvdash #3, #4}{\nvdash \textcolor{blue}{#2} \textcolor{blue}{:} #3 \ \textcolor{blue}{\mid} \ #4}
		}
	}{%\equal{#1}{p}
	\ifthenelse{\isempty{#2}}{\nvdash #4}{\nvdash \textcolor{blue}{#2} \textcolor{blue}{\mid} #4}
	}
}

%Macro for lambda-mu sequents. The form is 
%\tylmu{left_context}{expression}{expression-type}{right_context}
\newcommand{\tylmu}[4]{
	\ifthenelse{\isempty{#3}}
	{%if
	\ifthenelse{\isempty{#4}}
		{#1 \vdash_{\lmu} \textcolor{blue}{#2}}
		{#1 \vdash_{\lmu} \textcolor{blue}{#2} \mid #4}
	}
	{%else
        \ifthenelse{\isempty{#4}}
        	{#1 \vdash_{\lmu} \textcolor{blue}{#2} \textcolor{blue}{:} #3}
        	{#1 \vdash_{\lmu} \textcolor{blue}{#2} \textcolor{blue}{:} #3 \textcolor{blue}{\mid} #4}
	}
}

%Macros for lambda-mu-mu-tilde sequents.
 
%\tylmmcom{command}{left_context}{right_context}
\newcommand{\tylmmcom}[3]{\textcolor{blue}{#1}\ \textcolor{blue}{\triangleright} #2 \vdash #3}
%\tylmmter{left_context}{term}{right_active_formula}{right_context}
\newcommand{\tylmmter}[4]{#1 \vdash \textcolor{blue}{#2} \textcolor{blue}{:} #3 \mid #4}
%\tylmmenv{left_context}{environment}{left_active_formula}{right_context}
\newcommand{\tylmmenv}[4]{#1 \mid \textcolor{blue}{#2} \textcolor{blue}{:} #3 \vdash #4}

%Macro for lambda-mu-one sequents. The form is 
%\tylmuo{left_context}{expression}{expression-type}
%\newcommand{\tylmuo}[3]{#1 \vdash_{\lmuo} \textcolor{blue}{#2} \textcolor{blue}{:} #3}
\newcommand{\tylmuo}[3]{#1 \vdash \textcolor{blue}{#2} \textcolor{blue}{:} #3}

%Macro for lambda sequents, i.e. typed lambda terms. The form is 
%\tylamb{left_context}{expression}{expression-type}
\newcommand{\tylamb}[3]{#1 \vdash_{\lamb} \textcolor{blue}{#2} \textcolor{blue}{:} #3}

%Macro for lambda-c sequents. The form is 
%\tylmc{left_context}{expression}{expression-type}
\newcommand{\tylmc}[3]{#1 \vdash_{\lmc} \textcolor{blue}{#2} \textcolor{blue}{:} #3}

%Macro for ccl sequents. The form is 
%\tyccl{left_context}{expression}{expression-type}
\newcommand{\tyccl}[3]{#1 \vdash_{\ccl} \textcolor{blue}{#2} \textcolor{blue}{:} #3}

\newcommand{\prov}[2]{#1 \vdash #2} % provability symbol
\newcommand{\refu}[2]{#1 \dashv #2} % refutation symbol


%%%%%%%% MACRO PER LE NOTE DEL CORSO DI CALCOLABILITA'

\newcommand{\eclose}[1]{\mathsf{ecl}(#1)} % operatore di epsilon-chiusura
\newcommand{\zr}{\mathsf{Z}} % the constantly zero function
\newcommand{\suc}{\mathsf{S}} % the successor function
\newcommand{\pred}{\mathsf{P}} % the predecessor function
\newcommand{\prj}[2]{I_{#1}^{#2}} % the projection function
\newcommand{\ca}[1]{\mathsf{c}_{#1}} % the characteristic function of a predicate
\newcommand{\minus}{\stackrel{\centerdot}{-}} % the minus function on natural numbers
\newcommand{\conv}[1]{{#1}\!\downarrow} % convergence of a function
\newcommand{\dive}[1]{{#1}\!\uparrow} % divergence of a function
\newcommand{\PR}{\mathbf{PR}} % partial recursive functions
\newcommand{\REC}{\mathbf{REC}} % total recursive functions
\newcommand{\PRIMREC}{\mathbf{PrimREC}} % primitive recursive functions
\newcommand{\RESET}{\Sigma} % set of all recursively enumerable sets
\newcommand{\RECSET}{\Delta} % set of all recursive sets
\newcommand{\sse}{\iff}
\newcommand{\bforall}[2]{\forall{#1}\!<\!{#2}} % bounded universal quantification
\newcommand{\bexists}[2]{\exists{#1}\!<\!{#2}} % bounded existential quantification
\newcommand{\bmu}[2]{\mu{#1}\!<\!{#2}} % bounded mu-recursion
\newcommand{\fprim}[1]{\mathsf{p}(#1)} % function returning the n-th prime number
\newcommand{\pprim}[1]{\mathsf{prim}(#1)} % predicate testing primality of a number
\newcommand{\expn}[2]{\mathsf{exp}(#1,#2)} % function returning the exponent of #1 in the unique prime decomposition of #2

%\newcommand{\nat}{\mathbb{N}}
%\newcommand{\pair}[2]{\langle #1,#2 \rangle}
\newcommand{\fset}[1]{\sharp(#1)}
%\newcommand{\Pf}[1]{\mathcal{P}_{\mathrm{f}}(#1)}
%\newcommand{\st}{:}
% \newcommand{\seq}[1]{\vec{#1}}
\newcommand{\gramm}{\mathrel{::=}} % EBNF grammar definition
\newcommand{\ass}{\mathrel{:=}} % syntactical definition 
\newcommand{\nat}{\mathbb{N}} % set of natural numbers
\newcommand{\st}{:} % set constructor
% \newcommand{\ass}{:=} % assignment
\newcommand{\car}[1]{\mathsf{c}_{#1}} % characteristic function
\newcommand{\ran}[1]{\mathsf{ran}(#1)} % range of a function
\newcommand{\dom}[1]{\mathsf{dom}(#1)} % domain of a function
\newcommand{\secod}[1]{\prec\! #1 \!\succ} % code of a sequence
\newcommand{\seq}[1]{\prec\! #1 \!\succ} % code of a sequence
\newcommand{\sedecod}[2]{(#1)_{#2}} % extract the #2-th element of the sequence with code #1
\newcommand{\pair}[2]{\langle #1,#2 \rangle} % coding of pairs
\newcommand{\gph}[1]{\mathsf{gr}(#1)} % graph of a function